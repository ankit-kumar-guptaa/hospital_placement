# BEGIN WordPress
# The directives (lines) between "BEGIN WordPress" and "END WordPress" are
# dynamically generated, and should only be modified via WordPress filters.
# Any changes to the directives between these markers will be overwritten.

# Custom Error Documents
ErrorDocument 403 /cgi-sys/403_def.html
ErrorDocument 404 /cgi-sys/404_def.html
ErrorDocument 500 /cgi-sys/500_def.html
ErrorDocument 502 /cgi-sys/502_def.html
ErrorDocument 503 /cgi-sys/503_def.html
ErrorDocument 504 /cgi-sys/504_def.html

<IfModule mod_rewrite.c>
RewriteEngine On

# Preserve HTTP Authorization header
RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]

# Base directory
RewriteBase /

# Remove .php extension from URLs (Hide .php extension)
# Redirect .php URLs to clean URLs
RewriteCond %{THE_REQUEST} /([^.]+)\.php [NC]
RewriteRule ^ /%1? [NC,L,R=301]

# Add .php extension internally for clean URLs
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^([^.]+)$ $1.php [NC,L]

# Prevent direct access to index.php
RewriteRule ^index\.php$ - [L]

# Handle WordPress requests that are not for existing files or directories
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !\.php$
RewriteRule . /index.php [L]

</IfModule>

# END WordPress
